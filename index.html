<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebAR with model-viewer</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
</head>
<body>
    <model-viewer
        id="my-model" src="nor_ar.glb"
        ios-src="nor_ar.usdz"
        alt="A 3D model"
        ar
        ar-modes="webxr scene-viewer quick-look"
        ar-placement="floor"
        camera-controls
        autoplay
        animation-name="idle"
        environment-image="neutral"
        shadow-intensity="1"
        style="width: 100%; height: 500px;">
        </model-viewer>

    <script>
        // ページが読み込まれた後に実行
        window.addEventListener('load', () => {
            // idを使ってmodel-viewer要素を取得
            const modelViewer = document.querySelector('#my-model');
            
            // ブラウザのユーザーエージェント情報を取得
            const userAgent = navigator.userAgent;

            // ユーザーエージェントに'Android'という文字が含まれているか確認
            if (/Android/i.test(userAgent)) {
                // Androidの場合だけ、ar-scale="fixed"属性を追加する
                modelViewer.setAttribute('ar-scale', 'fixed');
                console.log('Android device detected. Enabling AR interactions.');
            }
        });
    </script>
    </body>
</html>
